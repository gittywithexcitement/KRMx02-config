# Generated by stepconf at Wed Sep 11 23:04:38 2013
# If you make changes to this file, they will be
# overwritten when you run stepconf again

[EMC]
MACHINE = krmx02
DEBUG = 0

[DISPLAY]
DISPLAY = axis
EDITOR = sublime
POSITION_OFFSET = RELATIVE
POSITION_FEEDBACK = ACTUAL
MAX_FEED_OVERRIDE = 1.2
INTRO_GRAPHIC = linuxcnc.gif
INTRO_TIME = 1
PROGRAM_PREFIX = /home/dank/linuxcnc/nc_files
INCREMENTS = .1in .05in .01in .005in .001in .0005in .0001in
PYVCP = custompanel.xml
OPEN_FILE = ""

[FILTER]
PROGRAM_EXTENSION = .png,.gif,.jpg Greyscale Depth Image
PROGRAM_EXTENSION = .py Python Script
png = image-to-gcode
gif = image-to-gcode
jpg = image-to-gcode
py = python

[TASK]
TASK = milltask
CYCLE_TIME = 0.010

[RS274NGC]
PARAMETER_FILE = linuxcnc.var

[EMCMOT]
EMCMOT = motmod
COMM_TIMEOUT = 1.0
COMM_WAIT = 0.010
BASE_PERIOD = 78535
SERVO_PERIOD = 1000000

[HAL]
HALUI = halui
HALFILE = krmx02.hal
HALFILE = custom.hal
POSTGUI_HALFILE = custom_postgui.hal
HALFILE = xbox.hal

[HALUI]
# MDI commands 00-02
##### Set G54's 0 point to current location for each axis #####
# set the X axis current location in coordinate system 1-G54 to 0
MDI_COMMAND = G10 L20 P1 X0
# set the Y axis current location in coordinate system 1-G54 to 0
MDI_COMMAND = G10 L20 P1 Y0
# set the Z axis current location in coordinate system 1-G54 to 0
MDI_COMMAND = G10 L20 P1 Z0

##### Probe for Z touch off #####
# MDI commands 03-08
# set G54 Z offset to 0
MDI_COMMAND = G10 L2 P1 Z0

# Z down until probe contact, fast. Stop at Z2.2 if no probe contact.
MDI_COMMAND = G38.2 Z2.2 F45 G90

# Z up until loss of contact. If you do this too slowly it will complain of probe contact during non MDI command. This is caused by the switch signal bouncing on and off and the solution is a debounce filter, or move away faster.
MDI_COMMAND = G38.4 Z7 F30 G90

# Z down until probe contact, slowest
MDI_COMMAND = G38.2 Z2.2 F0.3 G90

# Setup Z in G54 such that the top of the stock is Z0 and the current Z position is the height of the depth probe switch.
MDI_COMMAND = G10 L20 P1 Z2.2315

# Rapid to Z max
MDI_COMMAND = G0 Z6.95 G53

# MDI commands 09
# move the tool tip over the depth probe switch. The corner clamp is in place so that the stock is firmly pressed down. The depth probe switch is against the corner clamp and the Y fence.
MDI_COMMAND = G53 G0 X0.9162 Y1.6941

[TRAJ]
AXES = 3
COORDINATES = X Y Z
LINEAR_UNITS = inch
ANGULAR_UNITS = degree
CYCLE_TIME = 0.010
DEFAULT_VELOCITY = 0.67
MAX_LINEAR_VELOCITY = 6.67

[EMCIO]
EMCIO = io
CYCLE_TIME = 0.100
TOOL_TABLE = tool.tbl

[AXIS_0]
TYPE = LINEAR
HOME = 0.1521
MAX_VELOCITY = 6.33372173958
MAX_ACCELERATION = 40.0
STEPGEN_MAXACCEL = 50.0
SCALE = 1909.8593171
FERROR = 0.05
MIN_FERROR = 0.01
MIN_LIMIT = -0.1
MAX_LIMIT = 30.7
HOME_OFFSET = 0.000000
HOME_SEARCH_VEL = -0.250000
HOME_LATCH_VEL = -0.005
HOME_SEQUENCE = 1
HOME_IS_SHARED = 1
HOME_IGNORE_LIMITS = YES
VOLATILE_HOME = 1

[AXIS_1]
TYPE = LINEAR
HOME = 0.5
MAX_VELOCITY = 6.33372173958
MAX_ACCELERATION = 20.0
STEPGEN_MAXACCEL = 25.0
SCALE = 1909.8593171
FERROR = 0.05
MIN_FERROR = 0.01
MIN_LIMIT = -0.1
MAX_LIMIT = 26.14
HOME_OFFSET = -0.020000
HOME_SEARCH_VEL = -0.250000
HOME_LATCH_VEL = -0.005
HOME_SEQUENCE = 2
HOME_IS_SHARED = 1
HOME_IGNORE_LIMITS = YES
VOLATILE_HOME = 1

[AXIS_2]
TYPE = LINEAR
HOME = 6.95
MAX_VELOCITY = 1.667
MAX_ACCELERATION = 20.0
STEPGEN_MAXACCEL = 25.0
SCALE = 4010.004
FERROR = 0.05
MIN_FERROR = 0.01
MIN_LIMIT = 0.0
MAX_LIMIT = 7.02
HOME_OFFSET = 7.000000
HOME_SEARCH_VEL = 0.750000
HOME_LATCH_VEL = 0.005
HOME_SEQUENCE = 0
HOME_IS_SHARED = 1
HOME_IGNORE_LIMITS = YES
VOLATILE_HOME = 1
